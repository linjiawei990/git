<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ·±èŒeå®¶æŠ€æœ¯éƒ¨ç¬¬ä¸€æ¬¡è€ƒæ ¸</title>
  <style>
    body {
      font-family: "Microsoft YaHei", sans-serif;
      background: linear-gradient(135deg, #74ebd5 0%, #ACB6E5 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      margin: 0;
      color: #333;
      padding-top: 40px;
    }

    h1 {
      color: #fff;
      margin-bottom: 10px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .card {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      padding: 30px;
      text-align: center;
      width: 340px;
      transition: all 0.3s ease;
      margin-bottom: 20px;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    img {
      border-radius: 50%;
      width: 100px;
      height: 100px;
      margin-bottom: 10px;
      border: 3px solid #74ebd5;
    }

    input {
      width: 70%;
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 10px;
    }

    button {
      margin-top: 10px;
      background-color: #74ebd5;
      border: none;
      color: #fff;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    button:hover {
      background-color: #60c9c0;
    }

    .info {
      margin-top: 15px;
      font-size: 14px;
      color: #444;
    }

    .info p {
      margin: 6px 0;
    }

    .board {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      width: 340px;
      padding: 20px;
      text-align: left;
      margin-bottom: 40px;
    }

    .board h2 {
      text-align: center;
      margin-top: 0;
      color: #555;
    }

    textarea {
      width: 100%;
      height: 60px;
      border-radius: 10px;
      border: 1px solid #ccc;
      padding: 8px;
      resize: none;
      font-size: 14px;
    }

    .msg-list {
      margin-top: 15px;
      max-height: 220px;
      overflow-y: auto;
      font-size: 14px;
    }

    .msg {
      background: #f2f9ff;
      border-radius: 8px;
      padding: 6px 10px;
      margin-bottom: 6px;
      word-wrap: break-word;
      border-left: 4px solid #74ebd5;
    }

    footer {
      margin-top: 20px;
      font-size: 13px;
      color: #fff;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    audio {
      margin-top: 10px;
      outline: none;
      width: 280px;
    }

    .btn-group {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }

    .clear-btn {
      background-color: #f56c6c;
    }

    .clear-btn:hover {
      background-color: #d95454;
    }
  </style>
</head>

<body>
  <h1>QQ æ˜µç§°æŸ¥è¯¢</h1>
  <div class="card">
    <img id="avatar" src="https://q1.qlogo.cn/g?b=qq&nk=10000&s=100" alt="å¤´åƒåŠ è½½ä¸­">
    <div>
      <input type="number" id="qq" placeholder="è¯·è¾“å…¥ QQ å·">
      <button id="btn">æŸ¥è¯¢æ˜µç§°</button>
    </div>
    <div class="info">
      <p>æˆ‘æ˜¯25è½¯ä»¶2ç­çš„æ—ä½³ä¼Ÿæˆ‘çš„QQæ˜µç§°ä¸ºï¼š<span id="nick">--</span></p>
    <!-- å¿…è¯»-->
    <!-- ä¿®æ”¹ä¸ºè‡ªå·±çš„ä¿¡æ¯ -->
    <!-- ä¿å­˜æ–‡ä»¶ æ‰“å¼€æ–‡ä»¶  è¾“å…¥è‡ªå·±çš„qqå·æŸ¥çœ‹å˜åŒ– -->
    <!-- å°†é¡µé¢æˆªå›¾ é‡å‘½åä¸ºå­¦å·.png  ä¸Šä¼ åˆ°gitee -->
    </div>
  </div>
  <div class="board">
    <h2>ç•™è¨€æ¿ ğŸ’¬</h2>
    <p style="color:#777; font-size:14px; margin-bottom:8px;">
      ğŸ’¡ æç¤ºï¼šåœ¨ç•™è¨€æ¿ä¸Šå›ç­”é—®é¢˜ï¼Œä»¥åŠä½ æƒ³è¯´çš„ä¸€äº›~
    </p>
    <textarea id="msgInput" placeholder="è¯·è¾“å…¥ä½ çš„å›ç­”å’Œä½ æƒ³è¯´çš„è¯ï¼ŒæŒ‰ä¸‹å‘é€ç•™è¨€å¯ä»¥åœ¨é¡µé¢ä¸‹æ–¹æ˜¾ç¤ºå’Œå°†ç•™è¨€ä¿å­˜è‡³æœ¬ç«¯æµè§ˆå™¨ï¼ï¼"></textarea>
    <div class="btn-group">
      <button id="sendBtn">å‘é€ç•™è¨€</button>
      <button id="clearBtn" class="clear-btn">æ¸…ç©ºç•™è¨€</button>
    </div>
    <div class="msg-list" id="msgList"></div>
  </div>
  <audio id="bgm" controls autoplay muted loop oncanplay="this.muted=false">
  <source src="http://music.163.com/song/media/outer/url?id=1391726352.mp3" type="audio/mp3">
  ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
  </audio>
  <footer>Â© 2025 QQæ˜µç§°æŸ¥è¯¢ + ç•™è¨€æ¿ + æ’­æ”¾éŸ³ä¹ä»£ç å®ç°</footer>
  <script>
    function portraitCallBack(data) {
      window.qqPortraitData = data;
    }
    async function getQQInfo(qq) {
      const avatarEl = document.getElementById("avatar");
      const nickEl = document.getElementById("nick");
      avatarEl.src = `https://q1.qlogo.cn/g?b=qq&nk=${qq}&s=640`;
      nickEl.innerText = "åŠ è½½ä¸­...";
      const old = document.getElementById("qq_script");
      if (old) old.remove();
      const script = document.createElement("script");
      script.id = "qq_script";
      script.src = `https://users.qzone.qq.com/fcg-bin/cgi_get_portrait.fcg?uins=${qq}`;
      document.body.appendChild(script);
      let waited = 0;
      const timer = setInterval(() => {
        waited += 100;
        if (window.qqPortraitData && window.qqPortraitData[qq]) {
          clearInterval(timer);
          const info = window.qqPortraitData[qq];
          const nickname = info[6] || info[1] || "æœªçŸ¥";
          nickEl.innerText = nickname;
          window.qqPortraitData = null;
        } else if (waited >= 3000) {
          clearInterval(timer);
          nickEl.innerText = "è·å–å¤±è´¥";
          window.qqPortraitData = null;
        }
      }, 100);
    }
    document.getElementById("btn").onclick = function() {
      const qq = document.getElementById("qq").value.trim();
      if (!qq) {
        alert("è¯·è¾“å…¥ QQ å·ï¼");
        return;
      }
      getQQInfo(qq);
    };
    const msgInput = document.getElementById("msgInput");
    const msgList = document.getElementById("msgList");
    const sendBtn = document.getElementById("sendBtn");
    const clearBtn = document.getElementById("clearBtn");
    const STORAGE_KEY = "qqç•™è¨€æ¿";
    function loadMessages() {
      const saved = localStorage.getItem(STORAGE_KEY);
      let list = [];
      if (saved) {
        try { list = JSON.parse(saved); } catch(e){}
      }
      return list;
    }
    function renderMessages() {
      msgList.innerHTML = "";
      const messages = loadMessages();
      const defaultMsg = document.createElement("div");
      defaultMsg.className = "msg";
      defaultMsg.style.background = "#fff9e6";
      defaultMsg.style.borderLeft = "4px solid #ffcc66";
      const questions = [
      "ğŸ“¢ é—®é¢˜ï¼š",
      "1. ä½ ç›®å‰æŒæ¡å“ªç§è¯­è¨€(éœ€è¦ä¼šå†™å‡ºä»£ç )ï¼Ÿ",
      "2. ä½ æ˜¯å¦‚ä½•å…³æ³¨åˆ°æ·±èŒeå®¶çš„æ‹›æ–°ä»¥åŠäº§ç”Ÿæƒ³è¦åŠ å…¥æŠ€æœ¯éƒ¨çš„æƒ³æ³•ï¼Ÿ",
      "3. ä½ å¯¹åŠ å…¥æŠ€æœ¯éƒ¨æœ‰ä»€ä¹ˆæœŸå¾…(ç›®æ ‡ï¼Œæ–¹å‘)ï¼Ÿ",
      "4. ä½ äº†è§£å¼€å‘å—(è¯´å‡ºå…·ä½“å¼€å‘æµç¨‹)ï¼Ÿ"
      ];
      defaultMsg.innerHTML = questions.join("<br>");
      msgList.appendChild(defaultMsg);

      messages.forEach(m => {
        const div = document.createElement("div");
        div.className = "msg";
        div.innerText = m;
        msgList.appendChild(div);
      });
    }
    function saveMessage(text) {
      const list = loadMessages();
      list.unshift(text);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(list));
    }
    renderMessages();
    sendBtn.onclick = () => {
      const text = msgInput.value.trim();
      if (!text) return alert("è¯·è¾“å…¥ç•™è¨€å†…å®¹ï¼");
      const time = new Date().toLocaleTimeString();
      saveMessage(`${time}ï¼š${text}`);
      msgInput.value = "";
      renderMessages();
    };
    clearBtn.onclick = () => {
      if (confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç•™è¨€å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼")) {
        localStorage.removeItem(STORAGE_KEY);
        renderMessages();
      }
    };
  </script>
</body>
</html>
